<h1 id="mkt%20-%20MaKe%20a%20Template">mkt - MaKe a Template</h1>

<h2 id="motivation">motivation</h2>

<p>originally intended to build projects with decentralized files,
mkt is now primarily geared towards versatility and readability</p>

<h2 id="command-line%20help">command-line help</h2>

<pre><code>mkt - MaKe a Template
Usage: python mkt.py \[OPTIONS] \[TEMPLATES] \[USER-DEFINED-OPTIONS]
OPTIONS
    -g, --noglob    ignore globbing syntax in TEMPLATE
    -h, --help  display this test and exit
    -p, --populate\[=PATH]  populate PATH (if present) or the CWD
TEMPLATES
    the templates to execute
    if omitted, all files in the CWD matching *.mkt are used
USER-DEFINED-OPTIONS
    options to execute within templates
    these are executed in the order they are passed,
    not the order the appear in each template
</code></pre>

<h2 id="sample%20template:">sample template:</h2>

<pre><code>title=mkt

COPYING
mkt.py
README.md

b, build:
    python -c &quot;import mkt&quot; # creates mkt.pyc
c, clean:
    rm *.pyc
i, install: # simple shell alias
    alias (title)=&quot;python $\(realpath mkt.py)&quot; # useful escape example
</code></pre>

<h2 id="composition/syntax">composition/syntax</h2>

<p>mkt deals exclusively with line-based template files</p>

<p>any line may include comments and/or escape characters;
comment syntax:</p>

<pre><code>my line#my comment
</code></pre>

<p>evaluates as:</p>

<pre><code>my line
</code></pre>

<p>escape syntax:</p>

<pre><code>my line\#my \\comment
</code></pre>

<p>evaluates as:</p>

<pre><code>my line#my \comment
</code></pre>

<p>escape characters may also be used to wrap lines</p>

<p>there are 3 major types of sections: preprocessor, path, and option</p>

<p>preprocessor lines consist of macros,
and are ALWAYS processed individually (in sequence) EXACTLY ONCE;
definition syntax:</p>

<pre><code>my macro=some definition
</code></pre>

<p>expansion syntax:</p>

<pre><code>(my macro)
</code></pre>

<p>path lines are for packaging (AKA populating),
and are only executed by the -p or &#8211;populate arguments;
relative paths are assumed relative to the template directory;
path syntax:</p>

<pre><code>my path&gt;another path
my other path
</code></pre>

<p>copies &#8220;my path&#8221; to &#8220;another path&#8221; and &#8220;my other path&#8221; to &#8220;my other path&#8221;</p>

<p>option lines specify user-defined shell commands,
which are processed in the order that they are supplied by the caller;
option syntax:</p>

<pre><code>my name, other name:
    shell command
    other shell command
</code></pre>

<p>this evaluates</p>

<pre><code>    shell command
    other shell command
</code></pre>

<p>(including leading whitespace) if either &#8220;my name&#8221;
or &#8220;other name&#8221; were passed by the caller;
note that all until a line without leading whitespace is encountered,
all subsequent lines are considered a part of the option</p>
